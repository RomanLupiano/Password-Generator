{% extends 'layout.html' %}
{% block content %}    
<div class="limiter">
    <form action="/generate" method="POST" class="card-body p-5" style="background-color: #121212;">

        {% if (lang == "es") %}
        <h1>Generador de Contraseñas</h1>

        <label for="lenght">Ingresa el largo de la contraseña: </label>
        <input type="number" min="1" name="lenght" value={{lenght}} id="lenght">

        <div class="form-check form-switch my-2">
            <label for="uppercase" class="form-check-label">Mayusculas</label>
            <input type="checkbox" name="uppercase" value={{up}} id="uppercase" class="form-check-input">
        </div>

        <div class="form-check form-switch my-2">
            <label for="special" class="form-check-label">Caracteres especiales (/*-+=!?@#$%&*())</label>
            <input type="checkbox" name="special" value={{special}} id="special" class="form-check-input">
        </div>

        <div class="form-check form-switch my-2">
            <label for="numbers" class="form-check-label">Números</label>
            <input type="checkbox" name="numbers" value={{numbers}} id="numbers" class="form-check-input">
        </div>

        <button class="btn btn-primary mt-2">Generar Contraseña</button>
        {% else %}


        <h1>Password Generator</h1>

        <label for="lenght">Select the lenght of your password: </label>
        <input type="number" min="1" name="lenght" value={{lenght}} id="lenght">

        <div class="form-check form-switch my-2">
            <label for="uppercase" class="form-check-label">Uppercase</label>
            <input type="checkbox" name="uppercase" value={{up}} id="uppercase" class="form-check-input">
        </div>

        <div class="form-check form-switch my-2">
            <label for="special" class="form-check-label">Special Characters (/*-+=!?@#$%&*())</label>
            <input type="checkbox" name="special" value={{special}} id="special" class="form-check-input">
        </div>

        <div class="form-check form-switch my-2">
            <label for="numbers" class="form-check-label">Numbers</label>
            <input type="checkbox" name="numbers" value={{numbers}} id="numbers" class="form-check-input">
        </div>

        <button class="btn btn-primary mt-2">Generate Password</button>

        {% endif %}


        {% if message %}
        <p class="text-danger mt-2 mb-0 ">{{message}}</p>
        {% endif %}
        
    </form>
    {% if password %}
    <div class="card card-body bg-secondary text-center">
        <h1>Password</h1>

        <div id="copyme">{{password}}</div>
        
        <a href="#" class="btn btn-primary mt-2" onClick = "clip_div('copyme')">Copy Password</a>        
    </div>
    {% endif %}
</div>

<script>
    function clip_text(a_string){
        var input = document.createElement('input')
        input.id="__copyText__";
        input.value = a_string; // OOPS! document.getElementById(divId).innerText;
        document.body.appendChild(input);
        input.select();
        document.execCommand("copy");
        var txt = input.value
        input.remove()
    }
    function clip_div(divId){
       return clip_text(document.getElementById(divId).innerText)
    }
    </script>

{% endblock %}